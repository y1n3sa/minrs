/*! rs 2016-10-26 */
var RS={};RS.Slider=function(){var a={C_LEFT:"left",C_MIDDLE:"middle",C_RIGHT:"right",C_CONTAINER:"range-slider-container",C_DUAL:"dual",C_CONTROLLER:"controller",C_CONTROLLER_INNER:"inner",CONTROLLER_LEFT:-16},b={dual:!1,max:400,min:0,currentMin:0,currentMax:0},c=[{attr:"flex",pattern:"{0} 1 auto"},{attr:"-webkit-flex",pattern:"{0} 1 auto"},{attr:"-ms-flex",pattern:"{0} 1 auto"}],d=function(a){if(a){var c={};return Object.getOwnPropertyNames(b).forEach(function(d){c[d]="undefined"==typeof a[d]?b[d]:a[d]}),c}return b},e=function(a,b,c,d,e,f){var g=[];return f?(g.push((c-a)*e),f&&g.push((d-c)*e),g.push((b-d)*e)):(g.push((d-c)*e),g.push((b-d)*e)),g},f=function(a,b,c,d){return(d-c)/(b-a)},g=function(b){var c=[],d=document.createElement("div");d.className+=a.C_LEFT,c.push(d);var e=document.createElement("div");if(e.className+=a.C_RIGHT,b){d.className+=" "+a.C_DUAL;var f=document.createElement("div");f.className+=a.C_MIDDLE,c.push(f),e.className+=" "+a.C_DUAL}return c.push(e),c},h=function(){var b=document.createElement("div");b.className+=a.C_CONTROLLER;var c=document.createElement("div");return c.className+=a.C_CONTROLLER_INNER,b.appendChild(c),b},i=function(){for(var a=Array.prototype.slice.call(arguments),b=a[0],c=1;c<a.length;c++)b=b.replace(new RegExp("\\{"+(c-1)+"\\}"),a[c]);return b};return function(b,j){var k=this;j=d(j);var l=0,m=100,n=j.currentMin,o=j.currentMax,p=f(j.min,j.max,l,m);this.element=document.getElementById(b),this.element.className+=a.C_CONTAINER;for(var q=g(j.dual),r=0;r<q.length;r++)this.element.appendChild(q[r]);var s=!1,t=function(b,c){b.onmousedown=function(b){!b&&(b=window.event);var d=b.target?b.target:b.srcElement;return d.className==a.C_CONTROLLER?(s=!0,u(d,c)):d.className==a.C_CONTROLLER_INNER&&(s=!0,u(d.parentElement,c)),!1}.bind(this)}.bind(this);j.dual&&(this.minController=h(),this.minController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.minController),t(this.minController,!0)),this.maxController=h(),this.maxController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.maxController),t(this.maxController),this.element.onmouseup=function(a){this.maxController.onmousemove=null,this.minController&&(this.minController.onmousemove=null),s=!1}.bind(this);var u=function(b,c){b.onmousemove||(b.onmousemove=function(d){s&&(!d&&(d=window.event),d.clientX>=this.left&&d.clientX<=this.right&&(b.left=d.clientX-this.left+a.CONTROLLER_LEFT,b.style.left=b.left+"px",v(b.left-a.CONTROLLER_LEFT,c)))}.bind(this))}.bind(this);updateFlex=function(a,b){c.forEach(function(c){a.style[c.attr]=i(c.pattern,b)})},updateFlexes=function(){for(var a=e(j.min,j.max,n,o,p,j.dual),b=0;b<q.length;b++)updateFlex(q[b],a[b])};var v=function(a,b){var c=(j.max-j.min)/(k.right-k.left);b?k.updateMin(c*a):k.updateMax(c*a)};this.updateMin=function(a){a=parseInt(a),n=a,o=a>o?a:o,updateFlexes()},this.updateMax=function(a){a=parseInt(a),a=n>a?n:a,o=a,updateFlexes()},this.left=this.element.offsetLeft,this.right=this.element.clientWidth+this.left}}();