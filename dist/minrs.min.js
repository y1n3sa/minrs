/*! minrs 2016-11-06 */
var MINRS={};MINRS.Slider=function(){var a={C_LEFT:"left",C_MIDDLE:"middle",C_RIGHT:"right",C_CONTAINER:"range-slider-container",C_DUAL:"dual",C_CONTROLLER:"controller",C_CONTROLLER_INNER:"inner",CONTROLLER_LEFT:-16,C_RULER:"range-slider-ruler",RULER_LINE_COUNT:5},b={dual:!1,end:400,start:0,min:0,max:0,ruler:!1},c=[{attr:"flex",pattern:"{0} 1 auto"},{attr:"-webkit-flex",pattern:"{0} 1 auto"},{attr:"-ms-flex",pattern:"{0} 1 auto"}],d=function(a){if(a){var c={};return Object.getOwnPropertyNames(b).forEach(function(d){c[d]="undefined"==typeof a[d]?b[d]:a[d]}),c}return b},e=function(a,b,c,d,e,f){var g=[];return f?(g.push((c-a)*e),f&&g.push((d-c)*e),g.push((b-d)*e)):(g.push((d-c)*e),g.push((b-d)*e)),g},f=function(a,b,c,d){return(d-c)/(b-a)},g=function(b){var c=document.createElement("div");return c.className+=a.C_LEFT,b&&(c.className+=" "+a.C_DUAL),c},h=function(){var b=document.createElement("div");return b.className+=a.C_MIDDLE,b},i=function(b){var c=document.createElement("div");return c.className+=a.C_RIGHT,b&&(c.className+=" "+a.C_DUAL),c},j=function(a){var b=[];return b.push(g(a)),a&&b.push(h()),b.push(i(a)),b},k=function(){var b=document.createElement("div");b.className+=a.C_CONTROLLER;var c=document.createElement("div");return c.className+=a.C_CONTROLLER_INNER,b.appendChild(c),b},l=function(){for(var a=Array.prototype.slice.call(arguments),b=a[0],c=1;c<a.length;c++)b=b.replace(new RegExp("\\{"+(c-1)+"\\}"),a[c]);return b},m=function(b,c){for(var d=(c-b)/4,e=document.createElement("ul"),f=0;f<a.RULER_LINE_COUNT;f++){var g=0==f?b:f==a.RULER_LINE_COUNT-1?c:parseInt(f*d),h=document.createElement("li"),i=document.createElement("span");i.innerHTML=g,h.appendChild(i),e.appendChild(h)}return e.className+=a.C_RULER,e},n=function(a){a.childNodes.forEach(function(a){var b=a.childNodes[0],c=b.offsetWidth/2;b.style.marginLeft=-1*c+"px"})};return function(b,g){var h=this;g=d(g),this.getEndValue=function(){return g.end},this.getStartValue=function(){return g.start};var i=function(a){return a=a||g.min,a=a<g.start?g.start:a,g.dual?a<=s&&a>=g.start&&(r=a):r=g.start,r||g.start},o=function(a){return a=a||g.max,a=a>g.end?g.end:a,a<=g.end&&a>=r&&(s=a),s||g.end},p=0,q=100,r=g.start,s=g.end;r=i(),s=o();var t=f(g.start,g.end,p,q);this.element=document.getElementById(b),this.element.className+=a.C_CONTAINER;for(var u=j(g.dual),v=0;v<u.length;v++)this.element.appendChild(u[v]);if(g.ruler){var w=m(g.start,g.end);this.element.parentElement.insertBefore(w,null),n(w)}var x=!1,y=function(b,c){b.onmousedown=function(b){!b&&(b=window.event);var d=b.target?b.target:b.srcElement;return d.className==a.C_CONTROLLER?(x=!0,z(d,c)):d.className==a.C_CONTROLLER_INNER&&(x=!0,z(d.parentElement,c)),!1}.bind(this)}.bind(this);g.dual&&(this.minController=k(),this.minController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.minController),y(this.minController,!0)),this.maxController=k(),this.maxController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.maxController),y(this.maxController),this.element.onmouseup=function(a){this.maxController.onmousemove=null,this.minController&&(this.minController.onmousemove=null),x=!1}.bind(this);var z=function(b,c){b.onmousemove||(b.onmousemove=function(d){x&&(!d&&(d=window.event),d.clientX>=this.left&&d.clientX<=this.right&&(b.left=d.clientX-this.left+a.CONTROLLER_LEFT,b.style.left=b.left+"px",E(b.left-a.CONTROLLER_LEFT,c)))}.bind(this))}.bind(this),A=function(a,b){c.forEach(function(c){a.style[c.attr]=l(c.pattern,b)})},B=function(){for(var a=e(g.start,g.end,r,s,t,g.dual),b=0;b<u.length;b++)A(u[b],a[b])},C=function(){h.maxController.left=s/(g.end-g.start)*h.element.offsetWidth+a.CONTROLLER_LEFT,h.maxController.style.left=h.maxController.left+"px"},D=function(){h.minController.left=r/(g.end-g.start)*h.element.offsetWidth+a.CONTROLLER_LEFT,h.minController.style.left=h.minController.left+"px"},E=function(a,b){var c=(g.end-g.start)/(h.right-h.left);b?F(c*a,!0):G(c*a,!0)},F=function(a,b){a=parseInt(a),r=i(a),B(),!b&&g.dual&&D()},G=function(a,b){a=parseInt(a),s=o(a),B(),b||C()};window.addEventListener("resize",function(){C(),D()}),this.updateMin=function(a){F(a)},this.updateMax=function(a){G(a)},this.getMin=function(){return r},this.getMax=function(){return s},this.left=this.element.offsetLeft,this.right=this.element.clientWidth+this.left}}();