/*! minrs 2016-11-06 */
var MINRS={};MINRS.Slider=function(){var a={C_LEFT:"left",C_MIDDLE:"middle",C_RIGHT:"right",C_CONTAINER:"range-slider-container",C_DUAL:"dual",C_CONTROLLER:"controller",C_CONTROLLER_INNER:"inner",CONTROLLER_LEFT:-16,C_RULER:"range-slider-ruler",RULER_LINE_COUNT:5},b={dual:!1,end:400,start:0,min:0,max:0,ruler:!1},c=[{attr:"flex",pattern:"{0} 1 auto"},{attr:"-webkit-flex",pattern:"{0} 1 auto"},{attr:"-ms-flex",pattern:"{0} 1 auto"}],d=function(a){if(a){var c={};return Object.getOwnPropertyNames(b).forEach(function(d){c[d]="undefined"==typeof a[d]?b[d]:a[d]}),c}return b},e=function(a,b,c,d,e,f){var g=[];return f?(g.push((c-a)*e),f&&g.push((d-c)*e),g.push((b-d)*e)):(g.push((d-c)*e),g.push((b-d)*e)),g},f=function(a,b,c,d){return(d-c)/(b-a)},g=function(b){var c=[],d=document.createElement("div");d.className+=a.C_LEFT,c.push(d);var e=document.createElement("div");if(e.className+=a.C_RIGHT,b){d.className+=" "+a.C_DUAL;var f=document.createElement("div");f.className+=a.C_MIDDLE,c.push(f),e.className+=" "+a.C_DUAL}return c.push(e),c},h=function(){var b=document.createElement("div");b.className+=a.C_CONTROLLER;var c=document.createElement("div");return c.className+=a.C_CONTROLLER_INNER,b.appendChild(c),b},i=function(){for(var a=Array.prototype.slice.call(arguments),b=a[0],c=1;c<a.length;c++)b=b.replace(new RegExp("\\{"+(c-1)+"\\}"),a[c]);return b},j=function(b,c){for(var d=(c-b)/4,e=document.createElement("ul"),f=0;f<a.RULER_LINE_COUNT;f++){var g=0==f?b:f==a.RULER_LINE_COUNT-1?c:parseInt(f*d),h=document.createElement("li"),i=document.createElement("span");i.innerHTML=g,h.appendChild(i),e.appendChild(h)}return e.className+=a.C_RULER,e},k=function(a){a.childNodes.forEach(function(a){var b=a.childNodes[0],c=b.offsetWidth/2;b.style.marginLeft=-1*c+"px"})};return function(b,l){var m=this;l=d(l),this.getEndValue=function(){return l.end},this.getStartValue=function(){return l.start};var n=function(a){return a=a||l.min,a=a<l.start?l.start:a,l.dual?a<=s&&a>=l.start&&(r=a):r=l.start,r},o=function(a){return a=a||l.max,a=a>l.end?l.end:a,a<=l.end&&a>=r&&(s=a),s},p=0,q=100,r=l.start,s=l.end;r=n(),s=o();var t=f(l.start,l.end,p,q);this.element=document.getElementById(b),this.element.className+=a.C_CONTAINER;for(var u=g(l.dual),v=0;v<u.length;v++)this.element.appendChild(u[v]);if(l.ruler){var w=j(l.start,l.end);this.element.parentElement.insertBefore(w,null),k(w)}var x=!1,y=function(b,c){b.onmousedown=function(b){!b&&(b=window.event);var d=b.target?b.target:b.srcElement;return d.className==a.C_CONTROLLER?(x=!0,z(d,c)):d.className==a.C_CONTROLLER_INNER&&(x=!0,z(d.parentElement,c)),!1}.bind(this)}.bind(this);l.dual&&(this.minController=h(),this.minController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.minController),y(this.minController,!0)),this.maxController=h(),this.maxController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.maxController),y(this.maxController),this.element.onmouseup=function(a){this.maxController.onmousemove=null,this.minController&&(this.minController.onmousemove=null),x=!1}.bind(this);var z=function(b,c){b.onmousemove||(b.onmousemove=function(d){x&&(!d&&(d=window.event),d.clientX>=this.left&&d.clientX<=this.right&&(b.left=d.clientX-this.left+a.CONTROLLER_LEFT,b.style.left=b.left+"px",A(b.left-a.CONTROLLER_LEFT,c)))}.bind(this))}.bind(this);updateFlex=function(a,b){c.forEach(function(c){a.style[c.attr]=i(c.pattern,b)})},updateFlexes=function(){for(var a=e(l.start,l.end,r,s,t,l.dual),b=0;b<u.length;b++)updateFlex(u[b],a[b])};var A=function(a,b){var c=(l.end-l.start)/(m.right-m.left);b?m.updateMin(c*a):m.updateMax(c*a)};this.updateMin=function(a){a=parseInt(a),r=n(a),updateFlexes()},this.updateMax=function(a){a=parseInt(a),s=o(a),updateFlexes()},this.getMin=function(){return r},this.getMax=function(){return s},this.left=this.element.offsetLeft,this.right=this.element.clientWidth+this.left}}();