/*! minrs 2016-10-30 */
var MINRS={};MINRS.Slider=function(){var a={C_LEFT:"left",C_MIDDLE:"middle",C_RIGHT:"right",C_CONTAINER:"range-slider-container",C_DUAL:"dual",C_CONTROLLER:"controller",C_CONTROLLER_INNER:"inner",CONTROLLER_LEFT:-16,C_RULER:"range-slider-ruler",RULER_LINE_COUNT:5},b={dual:!1,end:400,start:0,min:0,max:0,ruler:!1},c=[{attr:"flex",pattern:"{0} 1 auto"},{attr:"-webkit-flex",pattern:"{0} 1 auto"},{attr:"-ms-flex",pattern:"{0} 1 auto"}],d=function(a){if(a){var c={};return Object.getOwnPropertyNames(b).forEach(function(d){c[d]="undefined"==typeof a[d]?b[d]:a[d]}),c}return b},e=function(a,b,c,d,e,f){var g=[];return f?(g.push((c-a)*e),f&&g.push((d-c)*e),g.push((b-d)*e)):(g.push((d-c)*e),g.push((b-d)*e)),g},f=function(a,b,c,d){return(d-c)/(b-a)},g=function(b){var c=[],d=document.createElement("div");d.className+=a.C_LEFT,c.push(d);var e=document.createElement("div");if(e.className+=a.C_RIGHT,b){d.className+=" "+a.C_DUAL;var f=document.createElement("div");f.className+=a.C_MIDDLE,c.push(f),e.className+=" "+a.C_DUAL}return c.push(e),c},h=function(){var b=document.createElement("div");b.className+=a.C_CONTROLLER;var c=document.createElement("div");return c.className+=a.C_CONTROLLER_INNER,b.appendChild(c),b},i=function(){for(var a=Array.prototype.slice.call(arguments),b=a[0],c=1;c<a.length;c++)b=b.replace(new RegExp("\\{"+(c-1)+"\\}"),a[c]);return b},j=function(b,c){for(var d=(c-b)/4,e=document.createElement("ul"),f=0;f<a.RULER_LINE_COUNT;f++){var g=0==f?b:f==a.RULER_LINE_COUNT-1?c:parseInt(f*d),h=document.createElement("li");h.innerHTML=g,e.appendChild(h)}return e.className+=a.C_RULER,e};return function(b,k){var l=this;k=d(k),this.getEndValue=function(){return k.end},this.getStartValue=function(){return k.start};var m=function(a){return a=a||k.min,a=a<k.start?k.start:a,k.dual?a<=r&&a>=k.start&&(q=a):q=k.start,q},n=function(a){return a=a||k.max,a=a>k.end?k.end:a,a<=k.end&&a>=q&&(r=a),r},o=0,p=100,q=k.start,r=k.end;q=m(),r=n();var s=f(k.start,k.end,o,p);this.element=document.getElementById(b),this.element.className+=a.C_CONTAINER;for(var t=g(k.dual),u=0;u<t.length;u++)this.element.appendChild(t[u]);k.ruler&&this.element.parentElement.insertBefore(j(k.start,k.end),null);var v=!1,w=function(b,c){b.onmousedown=function(b){!b&&(b=window.event);var d=b.target?b.target:b.srcElement;return d.className==a.C_CONTROLLER?(v=!0,x(d,c)):d.className==a.C_CONTROLLER_INNER&&(v=!0,x(d.parentElement,c)),!1}.bind(this)}.bind(this);k.dual&&(this.minController=h(),this.minController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.minController),w(this.minController,!0)),this.maxController=h(),this.maxController.left=a.CONTROLLER_LEFT,this.element.appendChild(this.maxController),w(this.maxController),this.element.onmouseup=function(a){this.maxController.onmousemove=null,this.minController&&(this.minController.onmousemove=null),v=!1}.bind(this);var x=function(b,c){b.onmousemove||(b.onmousemove=function(d){v&&(!d&&(d=window.event),d.clientX>=this.left&&d.clientX<=this.right&&(b.left=d.clientX-this.left+a.CONTROLLER_LEFT,b.style.left=b.left+"px",y(b.left-a.CONTROLLER_LEFT,c)))}.bind(this))}.bind(this);updateFlex=function(a,b){c.forEach(function(c){a.style[c.attr]=i(c.pattern,b)})},updateFlexes=function(){for(var a=e(k.start,k.end,q,r,s,k.dual),b=0;b<t.length;b++)updateFlex(t[b],a[b])};var y=function(a,b){var c=(k.end-k.start)/(l.right-l.left);b?l.updateMin(c*a):l.updateMax(c*a)};this.updateMin=function(a){a=parseInt(a),q=m(a),updateFlexes()},this.updateMax=function(a){a=parseInt(a),r=n(a),updateFlexes()},this.getMin=function(){return q},this.getMax=function(){return r},this.left=this.element.offsetLeft,this.right=this.element.clientWidth+this.left}}();